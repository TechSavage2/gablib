<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"global.html":{"id":"global.html","title":"Global","body":" gablib Modules BookmarksGroupsLoginMiscNotificationsStatuses Classes LoginObjectPoll Global enumKnownTimelinesenumPollExpiresenumPostExpiresenumReactionsenumStatusSortenumVisibility Global Members &lt;constant&gt; enumKnownTimelines &lt;constant&gt; enumPollExpires &lt;constant&gt; enumPostExpires &lt;constant&gt; enumReactions &lt;constant&gt; enumStatusSort &lt;constant&gt; enumVisibility × Search results Close TechSavage at GitHub "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" gablib Modules BookmarksGroupsLoginMiscNotificationsStatuses Classes LoginObjectPoll Global enumKnownTimelinesenumPollExpiresenumPostExpiresenumReactionsenumStatusSortenumVisibility Modules Classes LoginObject Poll Members &lt;constant&gt; enumKnownTimelines &lt;constant&gt; enumPollExpires &lt;constant&gt; enumPostExpires &lt;constant&gt; enumReactions &lt;constant&gt; enumStatusSort &lt;constant&gt; enumVisibility × Search results Close TechSavage at GitHub "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" gablib Modules BookmarksGroupsLoginMiscNotificationsStatuses Classes LoginObjectPoll Global enumKnownTimelinesenumPollExpiresenumPostExpiresenumReactionsenumStatusSortenumVisibility Classes Classes LoginObject Poll Members &lt;constant&gt; enumKnownTimelines &lt;constant&gt; enumPollExpires &lt;constant&gt; enumPostExpires &lt;constant&gt; enumReactions &lt;constant&gt; enumStatusSort &lt;constant&gt; enumVisibility × Search results Close TechSavage at GitHub "},"index.html":{"id":"index.html","title":"Index","body":" gablib Modules BookmarksGroupsLoginMiscNotificationsStatuses Classes LoginObjectPoll Global enumKnownTimelinesenumPollExpiresenumPostExpiresenumReactionsenumStatusSortenumVisibility gablib API package for scripting/programming Mastodon nodes where OAuth for custom apps has been disabled on the server. ⚠️ NOTE: The API is currently not stable and in ALPHA, a WIP. Changes may and will happen. Use it as a tech preview. Avoid use for production as of now. This package will allow you to build apps by logging in programmatically via the regular \"human\" auth/sign_in page and extract tokens for operations that requires authentication. This is not a standalone package/app but intended to be used as part of a custom client or for scripting. Requirements One of: NodeJS version 18 or newer (for the fetch api). Bun version 1.0.21 or newer. Note that this package and modules uses ES module format (i.e. use import statements.) To use ESM in your project, either update package.json with the following: \"type\": \"module\", or use the .mjs extension for your JavaScript files. Install Using NPM to install the package into your nodejs project: $ npm i https://github.com/TechSavage2/gablib It's now ready for use. As of now there are no other dependencies to be installed. To import a function you can use: import { login } from 'gablib/gablib.js'; or if you prefer the entire library on a single object: import * as gablib from 'gablib/gablib.js'; Getting Started Make sure you have a registered and active account with the Mastodon site you want to log on to. Make sure to initialize environmental variables on your system. For Linux, you can use: export MASTODON_USEREMAIL='your@mastodon.email' export MASTODON_PASSWORD='yourSecretPassword' export MASTODON_BASEURL='https://somemastodon.site' Put this in for example your ~/.profile file. You can also use different environment names and simply supply them instead ( see wiki.) In your JavaScript you can now call as the first function: import { login } from 'gablib/gablib.js'; const loginObject = await login(); // note that the call is asynchronous If successful login, the object is now initialized for use with API functions. If login failed it will throw an error. Check that your credentials are correct and if a complex password that it's properly escaped (if using env.) See wiki page for more examples. Features [x] Easy to use [x] ES modules (import/export) [x] login using the sign_in form instead of OAuth [x] API calls using authentications (WIP) [x] public API calls (WIP) [x] full support for statuses and comments [x] 'normalizes' Gab's remapped status lists format to that of normal Mastodon [x] can use a custom markdown stripper [ ] streams and sockets wrapper objects (for client use) [ ] (de)serializing of session/auth data for reuse between executions (experimental) [ ] events (responses, errors, upload/download progress, etc.) Documentation Online documentation (JSDoc) can be found here https://techsavage2.github.io/gablib/ Wiki page with examples and tips: https://github.com/TechSavage2/gablib/wiki To see specifics for each API call, JSON structures and so on, the official Mastodon can be useful. Note that some Mastodon sites (such as Gab) have modified some of these responses, JSONs and API calls, but to get the broader gist this is still helpful: https://docs.joinmastodon.org/methods/ Issues See https://github.com/TechSavage2/gablib/issues Notes The package has only been tested with Linux, but there shouldn't be anything preventing it from working with Windows, macOS and other platforms as well. License AGPL Copyright (c) 2024 TechSavage × Search results Close TechSavage at GitHub "},"LoginObject.html":{"id":"LoginObject.html","title":"Class: LoginObject","body":" gablib Modules BookmarksGroupsLoginMiscNotificationsStatuses Classes LoginObjectPoll Global enumKnownTimelinesenumPollExpiresenumPostExpiresenumReactionsenumStatusSortenumVisibility Class: LoginObject LoginObject new LoginObject(credentials, altPassword, altBaseUrl) LoginObject is returned initialized by the login() function. See documentation for login(). Parameters: Name Type Description credentials altPassword altBaseUrl × Search results Close TechSavage at GitHub "},"Poll.html":{"id":"Poll.html","title":"Class: Poll","body":" gablib Modules BookmarksGroupsLoginMiscNotificationsStatuses Classes LoginObjectPoll Global enumKnownTimelinesenumPollExpiresenumPostExpiresenumReactionsenumStatusSortenumVisibility Class: Poll Poll new Poll(options) Poll helper object to create polls for postMessage statuses. Parameters: Name Type Description options × Search results Close TechSavage at GitHub "},"module-Bookmarks.html":{"id":"module-Bookmarks.html","title":"Module: Bookmarks","body":" gablib Modules BookmarksGroupsLoginMiscNotificationsStatuses Classes LoginObjectPoll Global enumKnownTimelinesenumPollExpiresenumPostExpiresenumReactionsenumStatusSortenumVisibility Module: Bookmarks Methods &lt;static&gt; getBookmarkCollection(lo) Get your bookmark collections. Parameters: Name Type Description lo LoginObject Valid and active LoginObject Returns: Type Promise.&lt;*&gt; × Search results Close TechSavage at GitHub "},"module-Groups.html":{"id":"module-Groups.html","title":"Module: Groups","body":" gablib Modules BookmarksGroupsLoginMiscNotificationsStatuses Classes LoginObjectPoll Global enumKnownTimelinesenumPollExpiresenumPostExpiresenumReactionsenumStatusSortenumVisibility Module: Groups Methods &lt;static&gt; createGroup(lo, config) Create a new group. Parameters: Name Type Description lo LoginObject Valid and active LoginObject config Returns: Type Promise.&lt;*&gt; &lt;static&gt; editGroup(lo, group, newConfig) Edit an existing group you are owner/admin of. Parameters: Name Type Description lo LoginObject Valid and active LoginObject group newConfig Returns: Type Promise.&lt;*&gt; &lt;static&gt; getGroup(lo, groupId) Get information about a specific group. Parameters: Name Type Description lo LoginObject Valid and active LoginObject groupId Returns: Type Promise.&lt;*&gt; &lt;static&gt; getGroupCategories(lo) Get global group categories and their ids. Parameters: Name Type Description lo LoginObject Valid and active LoginObject Returns: Type Promise.&lt;*&gt; &lt;static&gt; getMyGroups(lo, minimalList) List groups you are member of. Parameters: Name Type Description lo LoginObject Valid and active LoginObject minimalList Returns: Type Promise.&lt;*&gt; × Search results Close TechSavage at GitHub "},"module-Login.html":{"id":"module-Login.html","title":"Module: Login","body":" gablib Modules BookmarksGroupsLoginMiscNotificationsStatuses Classes LoginObjectPoll Global enumKnownTimelinesenumPollExpiresenumPostExpiresenumReactionsenumStatusSortenumVisibility Module: Login Methods &lt;static&gt; login( [credentials] [, altPassword] [, altBaseUrl]) Primary function to log onto into the mastodon site. The function can be provided credentials in three ways: export env variables using the default MASTODON_USEREMAIL, MASTODON_PASSWORD and MASTODON_BASEURL export custom env variables and provide the env names as login('myemailenv', 'mypwdenv', 'myurlenv') provide a JSON object as first argument manually setting credentials in code (not recommended!): login({userEmail: 'my@email', password: 'secret', baseUrl: 'https://base.url'}) Parameters: Name Type Argument Description credentials string | Object &lt;optional&gt; either JSON object with credentials, or string with env name for email used with the two next arguments. altPassword string &lt;optional&gt; name of custom env name for password when credentials and altBaseUrl are used for alternative env names altBaseUrl string &lt;optional&gt; name of custom env name for base URL when credentials and altPassword are used for alternative env names Throws: when the script could not log in user Returns: this object is used with other API calls that require authentication. Type Promise.&lt;LoginObject&gt; &lt;static&gt; refreshSession(lo) Reload current authenticated page (after login) to refresh access_tokens and cookies, session values. Perhaps useful if server sessions expires (experimental!) Parameters: Name Type Description lo LoginObject current logged in LoginObject from the original login() call Returns: updated LoginObject Type Promise.&lt;LoginObject&gt; × Search results Close TechSavage at GitHub "},"module-Misc.html":{"id":"module-Misc.html","title":"Module: Misc","body":" gablib Modules BookmarksGroupsLoginMiscNotificationsStatuses Classes LoginObjectPoll Global enumKnownTimelinesenumPollExpiresenumPostExpiresenumReactionsenumStatusSortenumVisibility Module: Misc Methods &lt;static&gt; getAccountFromId(baseUrl, accountId) Get account JSON from an account id. Parameters: Name Type Description baseUrl accountId Returns: Type Promise.&lt;*&gt; &lt;static&gt; getAccountFromUsername(baseUrl, username) Get account JSON from a username. Parameters: Name Type Description baseUrl username Returns: Type Promise.&lt;*&gt; &lt;static&gt; getConversationOwner(lo, convId) Get conversation owner from a conversation Id. Parameters: Name Type Description lo LoginObject Valid and active LoginObject convId Returns: Type Promise.&lt;*&gt; &lt;static&gt; getMyShortcuts(lo) Get your shortcut list. Parameters: Name Type Description lo LoginObject Valid and active LoginObject Returns: Type Promise.&lt;*&gt; &lt;static&gt; getNewsFeed() Get the news feed. Returns: Type Promise.&lt;*&gt; &lt;static&gt; getPopularStatuses(baseUrl, type) Get a list of popular statuses. Parameters: Name Type Description baseUrl type Returns: Type Promise.&lt;*&gt; &lt;static&gt; getTrendsFeed(baseUrl) Get the trend feed. Parameters: Name Type Description baseUrl Returns: Type Promise.&lt;*&gt; Module: Misc Methods &lt;static&gt; getAccountFromId(baseUrl, accountId) Get account JSON from an account id. Parameters: Name Type Description baseUrl accountId Returns: Type Promise.&lt;*&gt; &lt;static&gt; getAccountFromUsername(baseUrl, username) Get account JSON from a username. Parameters: Name Type Description baseUrl username Returns: Type Promise.&lt;*&gt; &lt;static&gt; getConversationOwner(lo, convId) Get conversation owner from a conversation Id. Parameters: Name Type Description lo LoginObject Valid and active LoginObject convId Returns: Type Promise.&lt;*&gt; &lt;static&gt; getMyShortcuts(lo) Get your shortcut list. Parameters: Name Type Description lo LoginObject Valid and active LoginObject Returns: Type Promise.&lt;*&gt; &lt;static&gt; getNewsFeed() Get the news feed. Returns: Type Promise.&lt;*&gt; &lt;static&gt; getPopularStatuses(baseUrl, type) Get a list of popular statuses. Parameters: Name Type Description baseUrl type Returns: Type Promise.&lt;*&gt; &lt;static&gt; getTrendsFeed(baseUrl) Get the trend feed. Parameters: Name Type Description baseUrl Returns: Type Promise.&lt;*&gt; × Search results Close TechSavage at GitHub "},"module-Notifications.html":{"id":"module-Notifications.html","title":"Module: Notifications","body":" gablib Modules BookmarksGroupsLoginMiscNotificationsStatuses Classes LoginObjectPoll Global enumKnownTimelinesenumPollExpiresenumPostExpiresenumReactionsenumStatusSortenumVisibility Module: Notifications Methods &lt;static&gt; getNotifications(lo [, maxId] [, sinceId] [, filters]) Get notification list. Supports paginating and various filters. Parameters: Name Type Argument Description lo LoginObject Valid and active LoginObject maxId number | string | null &lt;optional&gt; for paginating sinceId number | string | null &lt;optional&gt; to get new notifications filters * | null &lt;optional&gt; filter options Returns: Type Promise.&lt;*&gt; &lt;static&gt; markNotificationsRead(lo) Mark all notifications read. Parameters: Name Type Description lo LoginObject Valid and active LoginObject Returns: Type Promise.&lt;*&gt; × Search results Close TechSavage at GitHub "},"module-Statuses.html":{"id":"module-Statuses.html","title":"Module: Statuses","body":" gablib Modules BookmarksGroupsLoginMiscNotificationsStatuses Classes LoginObjectPoll Global enumKnownTimelinesenumPollExpiresenumPostExpiresenumReactionsenumStatusSortenumVisibility Module: Statuses Methods &lt;static&gt; bookmarkStatus(lo, statusId, collectionId) Bookmark this status. Parameters: Name Type Description lo LoginObject Valid and active LoginObject statusId collectionId Returns: Type Promise.&lt;*&gt; &lt;static&gt; bookmarkStatusState(lo, statusId) Get bookmark status of this post. Parameters: Name Type Description lo LoginObject Valid and active LoginObject statusId Returns: Type Promise.&lt;*&gt; &lt;static&gt; createStatus(lo, markdown [, options]) Post or edit a new status to home timeline or a group. Parameters: Name Type Argument Description lo LoginObject Valid and active LoginObject markdown string | null Text to post. Can be formatted as Markdown. May be omitted if there are attachments, otherwise it is required. options Object &lt;optional&gt; Properties Name Type Argument Default Description groupId string | number &lt;optional&gt; GroupID to post to. You must be a member of the group. attachmentIds Array &lt;optional&gt; Array of attachment IDs from previous uploadMedia(). poll Object | Poll &lt;optional&gt; Poll object, JSON or a stringified JSON string representing the poll options and expiration. See enumPollExpires for options. visibility string &lt;optional&gt; Visibility of post see enumVisibility. sensitive Boolean &lt;optional&gt; if the content should be hidden by default expires string &lt;optional&gt; when the post should expire, see enumPostExpires for options. privateGroup &lt;optional&gt; replyId string | number &lt;optional&gt; Status or comment ID this is a reply to. quoteId string | number &lt;optional&gt; Status ID this is a quote for. spoiler string &lt;optional&gt; Spoiler text for sensitive statuses language string &lt;optional&gt; 'en ISO 639 language code for the status scheduledAt string &lt;optional&gt; ISO 8601 formatted date when this status should become posted. editId string | number &lt;optional&gt; Can be set to edit a status, but you can instead use editStatus() Returns: Type Promise.&lt;*&gt; &lt;static&gt; deleteStatus(lo, statusId) Delete a single status post. Parameters: Name Type Description lo LoginObject Valid and active LoginObject statusId string | number ID of status to delete Returns: Type Promise.&lt;*&gt; &lt;static&gt; editStatus(lo, statusId, newMarkdown [, options]) Edit an existing status. You need to be the owner of the status. Parameters: Name Type Argument Description lo LoginObject Valid and active LoginObject statusId string | number Status ID of the status you want to edit. newMarkdown string New text for the status options Object &lt;optional&gt; Properties Name Type Argument Default Description groupId string | number &lt;optional&gt; GroupID to post to. You must be a member of the group. attachmentIds Array &lt;optional&gt; Array of attachment IDs from previous uploadMedia(). poll Object | Poll &lt;optional&gt; Poll object, JSON or a stringified JSON string representing the poll options and expiration. See enumPollExpires for options. visibility string &lt;optional&gt; Visibility of post see enumVisibility. sensitive Boolean &lt;optional&gt; if the content should be hidden by default expires string &lt;optional&gt; when the post should expire, see enumPostExpires for options. privateGroup &lt;optional&gt; replyId string | number &lt;optional&gt; Status or comment ID this is a reply to. quoteId string | number &lt;optional&gt; Status ID this is a quote for. spoiler string &lt;optional&gt; Spoiler text for sensitive statuses language string &lt;optional&gt; 'en ISO 639 language code for the status scheduledAt string &lt;optional&gt; ISO 8601 formatted date when this status should become posted. &lt;static&gt; favoritePost(lo, statusId, reactId) Mark this status as favorite (like, reaction.) Parameters: Name Type Description lo LoginObject Valid and active LoginObject statusId reactId Returns: Type Promise.&lt;*&gt; &lt;static&gt; getAccountStatuses(lo, account [, page] [, sort]) Get a list of statuses based on an account. Parameters: Name Type Argument Default Description lo LoginObject Valid and active LoginObject account string | number ID of account page number &lt;optional&gt; 1 page number sort string &lt;optional&gt; sort method. Valid options: see enumStatusSort. Returns: Type Promise.&lt;*&gt; &lt;static&gt; getComments(lo, statusId, maxId, sort) Get comments from a status or a comment branch. Parameters: Name Type Description lo LoginObject Valid and active LoginObject statusId maxId sort Returns: Type Promise.&lt;*&gt; &lt;static&gt; getStatus(lo, statusId) Get a single status post. Parameters: Name Type Description lo LoginObject Valid and active LoginObject statusId string | number ID of status to retrieve Returns: Type Promise.&lt;*&gt; &lt;static&gt; getStatusContext(lo, statusId) Get context for this status. Parameters: Name Type Description lo LoginObject Valid and active LoginObject statusId Returns: Type Promise.&lt;*&gt; &lt;static&gt; getStatusQuotes(lo, statusId) Get quotes of this status. Parameters: Name Type Description lo LoginObject Valid and active LoginObject statusId Returns: Type Promise.&lt;*&gt; &lt;static&gt; getStatusRepostedBy(lo, statusId, maxId) Get a list of who reposted this status. Parameters: Name Type Description lo LoginObject Valid and active LoginObject statusId maxId Returns: Type Promise.&lt;*&gt; &lt;static&gt; getStatusRevisions(lo, statusId) Get a status' revisions (edits) Parameters: Name Type Description lo LoginObject Valid and active LoginObject statusId Returns: Type Promise.&lt;*&gt; &lt;static&gt; getStatusStats(lo, statusId) Get status statistics like number of likes, reposts etc. Parameters: Name Type Description lo LoginObject Valid and active LoginObject statusId Returns: Type Promise.&lt;*&gt; &lt;static&gt; getStatusesFromTag(lo, tagName) Get a list of statuses based on a tag. Parameters: Name Type Description lo LoginObject Valid and active LoginObject tagName string tag name Returns: Type Promise.&lt;*&gt; &lt;static&gt; getTimelineStatuses(lo, timeline [, pageOrMaxId] [, sort] [, pinned]) Valid lists: home, explore, group_collection, group_pins, group/id (see groups), links, list/id, pro, related/statusId, video, \"clips\" Parameters: Name Type Argument Default Description lo LoginObject timeline string pageOrMaxId number &lt;optional&gt; sort string &lt;optional&gt; \"no-reposts\" pinned boolean &lt;optional&gt; false if true, request pinned posts Returns: Type Promise &lt;static&gt; pinStatus(lo, statusId) Pin this status. Parameters: Name Type Description lo LoginObject Valid and active LoginObject statusId Returns: Type Promise.&lt;*&gt; &lt;static&gt; pinStatusState(lo, statusId) Get the pin status of this post. Parameters: Name Type Description lo LoginObject Valid and active LoginObject statusId Returns: Type Promise.&lt;*&gt; &lt;static&gt; setMarkdownFunction(fn [, isAsync]) Set a custom Markdown function to strip markdown from Status texts. Parameters: Name Type Argument Default Description fn function function that takes Markdown as input and returns cleaned text. isAsync Boolean &lt;optional&gt; false whether or not the call is asynchronous or not &lt;static&gt; unbookmarkStatus(lo, statusId) Un-bookmark this status. Parameters: Name Type Description lo LoginObject Valid and active LoginObject statusId Returns: Type Promise.&lt;*&gt; &lt;static&gt; unfavoritePost(lo, statusId, reactId) Unmark this status as favorite (unlike.) Parameters: Name Type Description lo LoginObject Valid and active LoginObject statusId reactId Returns: Type Promise.&lt;*&gt; &lt;static&gt; unpinStatus(lo, statusId) Unpin this status. Parameters: Name Type Description lo LoginObject Valid and active LoginObject statusId Returns: Type Promise.&lt;*&gt; &lt;static&gt; uploadMedia(lo, pathOrBuffer [, filename]) Upload media files for attachments. Parameters: Name Type Argument Description lo LoginObject Valid and active LoginObject pathOrBuffer string | Buffer | ArrayBuffer | TypedArray | Uint8Array | Blob | File path to a media file to upload or a pre-initialized Buffer object. filename string &lt;optional&gt; filename is required if pathOrBuffer is buffer Returns: Type Promise.&lt;*&gt; × Search results Close TechSavage at GitHub "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
